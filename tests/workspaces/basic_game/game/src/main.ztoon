package mainPkg;
import core::core;

import sdl3;



fn main() -> i32
{
    
    defer printf("hi defer\n");

    if true {
        for i: i32 = 0; i < 10; i++
        {
            printf("begin\n");
            defer printf("cont\n");
            if i < 5 {continue;}
            
        }
        ret 0;
    }

    defer printf("hi defer2\n");

    result: bool = SDL3::init(init_flags::SDL_INIT_VIDEO);

    if !result {
        printf("Failed to initialize SDL: %s", SDL3::get_error());
        ret 1;
    }

    window: u8* = SDL3::create_window("Ztoon", 1280, 720,
     window_flags::SDL_WINDOW_OPENGL | window_flags::SDL_WINDOW_RESIZABLE);

    if !(window as bool) {
        printf("Failed to create window. Err: %s", SDL3::get_error());
        ret 1;
    }
    done: bool = false;
    while !done {
        event: SDL3::event;
        while SDL3::poll_event(&event) {
            if (event.type == SDL3::event_type::SDL_EVENT_QUIT)
            {
                done = true;  
            }
        }
    }
    ret 0;
}
