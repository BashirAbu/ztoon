package mainPkg;

union Vec<T>
{
    elements: T[2];
    struct
    {
        x: T;
        y: T;
    }
}


fn main() -> i32
{
    struct Vector2<T>
    {
        x: T;
        y: T;
        fn Len(self) -> T
        {
            ret sqrt((self.x * self.x + self.y * self.y) as f64) as T ;
        }
    }
    pos: Vector2<i32> = {30, 44};
    // printf("Len: %d", pos.Len());
    pos2: Vector2<i32> = {100, 200};

    pos3: Vector2<f64> = {455.0, 44.4};    

    v2: Vec<f64>;
    v2.x = 12.04;

    printf("v2.x: %f\n", v2.elements[0]);
        
    printf("pos: %d\n", pos.Len());
    printf("pos2: %d\n", pos2.Len());
    printf("pos3: %f\n", pos3.Len());
    
    ret 0;
}
fn printf(str: readonly i8*, ...) -> i32;
fn sqrt(v: f64) -> f64;
